version: 2

models:
  - name: jobs
    description: "Job applications"
    columns:
      - name: job_reference
        description: "The primary key of this table"
        tests:
          - unique
          - not_null
      - name: organization_reference
      - name: profession_id
        description: "ID of the related profession. Foreign key to professions"
      - name: office_latitude
      - name: office_longitude
      - name: office_continent
        description: "Continent where the office is located. This info is
        generated by Python API"
        tests:
          - not_null
          - accepted_values:
              values: ['EUROPE', 'ASIA', 'AMERICA', 'OTHERS']
      - name: candidates
        description: "Number of applicants for a job position"

  - name: professions
    description: "Detail information for professions"
    columns:
      - name: id
        description: "Primary key of professions"
        tests:
          - unique
          - not_null
      - name: name
        description: "Name of the profession related to the job position"
      - name: category_name
        description: "Category of the profession, related to the business/industry"

  - name: top_orgs_by_profession
    description: "The organizations top 3 by professions and organizations"
    columns:
      - name: name
      - name: organization_reference
      - name: total_candidates
        description: "Total number of applicants"
      - name: rank_total_candidates
        description: "Ranking of the organization. 1 being the organization
        having the highest number of applicants for this position"
        tests:
          - not_null
          - accepted_values:
              values: [1, 2, 3]
